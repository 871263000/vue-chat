webpackJsonp([0],{10:function(e,a,t){t(68);var s=t(2)(t(64),t(72),"data-v-0e6a421e",null);e.exports=s.exports},64:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t(0),o=t(1),r=(t(11),t(3));s.a.component("asyncModal",function(e){t.e(4).then(function(){var a=[t(71)];e.apply(null,a)}.bind(this)).catch(t.oe)});var n=0;a.default={data:function(){return{p:1,showModal:this.show,messagesLog:[],scrollHeight:0}},computed:t.i(o.b)({user:function(e){return e.user},dig:function(e){return e.currentSession},currentSessionType:function(e){return e.currentSessionType}}),props:["show"],methods:{content:function(e){return t.i(r.a)(e)},loadMroe:function(e){0==e.target.scrollTop&&this.getMessage()},getMessage:function(){var e="";e="message"==this.currentSessionType?"friend":"group",this.$http.get("/omsIm/demo/json/getList.php",{params:{p:this.p,id:this.dig.id,type:e,class:"page"}}).then(function(e){var a=this;e.data&&(this.p++,this.messagesLog.unshift.apply(this.messagesLog,e.data.data.reverse()),this.$nextTick(function(){a.$refs.scrollBox.scrollTop=a.$refs.scroll.offsetHeight-n,n=a.$refs.scroll.offsetHeight}))})}},created:function(){this.$nextTick(function(){this.getMessage()})}}},65:function(e,a,t){a=e.exports=t(60)(!0),a.push([e.i,'.message-log[data-v-0e6a421e]{padding:5px;overflow:auto;height:400px}.message-log ul[data-v-0e6a421e]::-webkit-scrollbar{width:100px;display:block;width:10px;height:10px}.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-track{background:transparent}.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.5);border-radius:10px}.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-corner{background:#82afff}.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-resizer{background:#ff0bee}.message-log ul[data-v-0e6a421e]::scrollbar{width:100px;display:block;width:10px;height:10px}.message-log ul[data-v-0e6a421e]::scrollbar-track{background:transparent}.message-log ul[data-v-0e6a421e]::scrollbar-thumb{background:rgba(0,0,0,.5);border-radius:10px}.message-log ul[data-v-0e6a421e]::scrollbar-corner{background:#82afff}.message-log ul[data-v-0e6a421e]::scrollbar-resizer{background:#ff0bee}.message-log li[data-v-0e6a421e]{margin-bottom:15px}.message-log .time[data-v-0e6a421e]{margin:7px 0;text-align:center}.message-log .time>span[data-v-0e6a421e]{display:inline-block;padding:0 18px;font-size:12px;color:#fff;border-radius:2px;background-color:#dcdcdc}.message-log .avatar[data-v-0e6a421e]{float:left;margin:0 10px 0 0;border-radius:3px}.message-log .text[data-v-0e6a421e]{display:inline-block;position:relative;padding:0 10px;max-width:calc(100% - 80px);min-height:30px;line-height:2.5;font-size:12px;text-align:left;word-break:break-all;background-color:#fafafa;border-radius:4px}.message-log .text[data-v-0e6a421e]:before{content:" ";position:absolute;top:9px;right:100%;border:6px solid transparent;border-right-color:#fafafa}.message-log .self[data-v-0e6a421e]{text-align:right}.message-log .self .avatar[data-v-0e6a421e]{float:right;margin:0 0 0 10px}.message-log .self .text[data-v-0e6a421e]{background-color:#b2e281}.message-log .self .text[data-v-0e6a421e]:before{right:inherit;left:100%;border-right-color:transparent;border-left-color:#b2e281}',"",{version:3,sources:["/Library/WebServer/Documents/vue-chat1.0.0/src/components/modalMessage.vue"],names:[],mappings:"AACA,8BACE,YAAa,AACb,cAAe,AACf,YAAc,CACf,AACD,oDACE,YAAc,AACd,cAAe,AAGf,WAAY,AACZ,WAAa,CAHd,AAKD,0DACE,sBAA6B,CAC9B,AACD,0DACE,0BAA+B,AAC/B,kBAAoB,CACrB,AACD,2DACE,kBAAoB,CACrB,AACD,4DACE,kBAAoB,CACrB,AACD,4CACE,YAAc,AACd,cAAe,AAGf,WAAY,AACZ,WAAa,CAHd,AAKD,kDACE,sBAA6B,CAC9B,AACD,kDACE,0BAA+B,AAC/B,kBAAoB,CACrB,AACD,mDACE,kBAAoB,CACrB,AACD,oDACE,kBAAoB,CACrB,AACD,iCACE,kBAAoB,CACrB,AACD,oCACE,aAAc,AACd,iBAAmB,CACpB,AACD,yCACE,qBAAsB,AACtB,eAAgB,AAChB,eAAgB,AAChB,WAAY,AACZ,kBAAmB,AACnB,wBAA0B,CAC3B,AACD,sCACE,WAAY,AACZ,kBAAmB,AACnB,iBAAmB,CACpB,AACD,oCACE,qBAAsB,AACtB,kBAAmB,AACnB,eAAgB,AAChB,4BAA6B,AAC7B,gBAAiB,AACjB,gBAAiB,AACjB,eAAgB,AAChB,gBAAiB,AACjB,qBAAsB,AACtB,yBAA0B,AAC1B,iBAAmB,CACpB,AACD,2CACE,YAAa,AACb,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,6BAA8B,AAC9B,0BAA4B,CAC7B,AACD,oCACE,gBAAkB,CACnB,AACD,4CACE,YAAa,AACb,iBAAmB,CACpB,AACD,0CACE,wBAA0B,CAC3B,AACD,iDACE,cAAe,AACf,UAAW,AACX,+BAAgC,AAChC,yBAA2B,CAC5B",file:"modalMessage.vue",sourcesContent:['\n.message-log[data-v-0e6a421e] {\n  padding: 5px;\n  overflow: auto;\n  height: 400px;\n}\n.message-log ul[data-v-0e6a421e]::-webkit-scrollbar {\n  width: 100px ;\n  display: block;\n}\n.message-log ul[data-v-0e6a421e]::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0);\n}\n.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 10px;\n}\n.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-corner {\n  background: #82afff;\n}\n.message-log ul[data-v-0e6a421e]::-webkit-scrollbar-resizer {\n  background: #ff0bee;\n}\n.message-log ul[data-v-0e6a421e]::scrollbar {\n  width: 100px ;\n  display: block;\n}\n.message-log ul[data-v-0e6a421e]::scrollbar {\n  width: 10px;\n  height: 10px;\n}\n.message-log ul[data-v-0e6a421e]::scrollbar-track {\n  background: rgba(0, 0, 0, 0);\n}\n.message-log ul[data-v-0e6a421e]::scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 10px;\n}\n.message-log ul[data-v-0e6a421e]::scrollbar-corner {\n  background: #82afff;\n}\n.message-log ul[data-v-0e6a421e]::scrollbar-resizer {\n  background: #ff0bee;\n}\n.message-log li[data-v-0e6a421e] {\n  margin-bottom: 15px;\n}\n.message-log .time[data-v-0e6a421e] {\n  margin: 7px 0;\n  text-align: center;\n}\n.message-log .time > span[data-v-0e6a421e] {\n  display: inline-block;\n  padding: 0 18px;\n  font-size: 12px;\n  color: #fff;\n  border-radius: 2px;\n  background-color: #dcdcdc;\n}\n.message-log .avatar[data-v-0e6a421e] {\n  float: left;\n  margin: 0 10px 0 0;\n  border-radius: 3px;\n}\n.message-log .text[data-v-0e6a421e] {\n  display: inline-block;\n  position: relative;\n  padding: 0 10px;\n  max-width: calc(100% - 80px);\n  min-height: 30px;\n  line-height: 2.5;\n  font-size: 12px;\n  text-align: left;\n  word-break: break-all;\n  background-color: #fafafa;\n  border-radius: 4px;\n}\n.message-log .text[data-v-0e6a421e]:before {\n  content: " ";\n  position: absolute;\n  top: 9px;\n  right: 100%;\n  border: 6px solid transparent;\n  border-right-color: #fafafa;\n}\n.message-log .self[data-v-0e6a421e] {\n  text-align: right;\n}\n.message-log .self .avatar[data-v-0e6a421e] {\n  float: right;\n  margin: 0 0 0 10px;\n}\n.message-log .self .text[data-v-0e6a421e] {\n  background-color: #b2e281;\n}\n.message-log .self .text[data-v-0e6a421e]:before {\n  right: inherit;\n  left: 100%;\n  border-right-color: transparent;\n  border-left-color: #b2e281;\n}\n'],sourceRoot:""}])},68:function(e,a,t){var s=t(65);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(61)("1e79679c",s,!0)},72:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.show?t("asyncModal",{on:{close:function(a){e.$emit("close")}}},[t("div",{slot:"header"},[e._v("\n\t\t聊天记录\n\t")]),e._v(" "),t("div",{ref:"scrollBox",staticClass:"message-log",on:{scroll:function(a){e.loadMroe(a)}},slot:"body"},[e.messagesLog?t("ul",{directives:[{name:"scroll-bottom",rawName:"v-scroll-bottom",value:e.messagesLog,expression:"messagesLog"}],ref:"scroll"},e._l(e.messagesLog,function(a){return t("li",[t("p",{staticClass:"time"},[t("span",[e._v(e._s(a.timestamp))])]),e._v(" "),t("div",{staticClass:"main",class:{self:a.id==e.user.id},attrs:{idt:e.user.id}},[t("img",{staticClass:"avatar",attrs:{width:"30",height:"30",src:a.id==e.user.id?e.user.img:a.avatar}}),e._v(" "),t("div",{staticClass:"text",domProps:{innerHTML:e._s(e.content(a.content))}})])])})):e._e()])]):e._e()},staticRenderFns:[]}}});
//# sourceMappingURL=0.a0ec0067e16fad2382ca.js.map