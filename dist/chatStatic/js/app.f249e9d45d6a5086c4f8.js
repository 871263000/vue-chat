webpackJsonp([2],[,,,function(e,n,t){"use strict";var i=t(5);t.d(n,"a",function(){return a});var s=function(e){return e=e.replace(/\n/g,"&lbrg").replace(/\t/g," ")},a=function(e){if(e)return e=e.replace(/&lbrg/g,"<br>").replace(/face\[([^\s\[\]]+?)\]/g,function(e){var n=e.replace(/^face/g,"");return'<img alt="'+n+'" title="'+n+'" src="'+faces[n]+'">'}).replace(/【(.*?)】/g,function(e,n){var t=i.a.find(function(e){return e.name==n});return'<img width="20px"  src="/chatStatic/emoji/'+t.num+'@2x.png" alt="'+t.name+'" />'}).replace(/-(file|img)-\[(.*?)\]/g,function(e,n,t){var i="",s=t.split("|");return t[1]&&(i="img"==n?'<img style="max-width: 300px;" class="chat-img" src="'+s[1]+'" alt="'+s[0]+'" />':'<div class="chat-file"><a title="'+s[0]+'" href="'+s[1]+'" download target="_blank"><i><img src="/images/xiazaiwenjian.png" alt="" /></i><p title="'+s[0]+'">'+s[0]+"</p></a></div>"),i})};n.b=s},,function(e,n,t){"use strict";var i=[{dh:"weiXiao",name:"微笑",num:"001"},{dh:"pieZui",name:"撇嘴",num:"002"},{dh:"se",name:"色",num:"003"},{dh:"faDai",name:"发呆",num:"004"},{dh:"deYi",name:"得意",num:"005"},{dh:"liuLei",name:"流泪",num:"006"},{dh:"haiXiu",name:"害羞",num:"007"},{dh:"biZui",name:"闭嘴",num:"008"},{dh:"shui",name:"睡",num:"009"},{dh:"daKu",name:"大哭",num:"010"},{dh:"ganGa",name:"尴尬",num:"011"},{dh:"faNu",name:"发怒",num:"012"},{dh:"tiaoPi",name:"调皮",num:"013"},{dh:"ciYa",name:"呲牙",num:"014"},{dh:"jingYa",name:"惊讶",num:"015"},{dh:"nanGuo",name:"难过",num:"016"},{dh:"ku",name:"酷",num:"017"},{dh:"jiong",name:"囧",num:"018"},{dh:"zhuaKuang",name:"抓狂",num:"019"},{dh:"tu",name:"吐",num:"020"},{dh:"touXiao",name:"偷笑",num:"021"},{dh:"keAi",name:"可爱",num:"022"},{dh:"baiYan",name:"白眼",num:"023"},{dh:"aoMan",name:"傲慢",num:"024"},{dh:"jiE",name:"饥饿",num:"025"},{dh:"kun",name:"困",num:"026"},{dh:"jingKong",name:"惊恐",num:"027"},{dh:"liuHan",name:"流汗",num:"028"},{dh:"hanXiao",name:"憨笑",num:"029"},{dh:"youXian",name:"悠闲",num:"030"},{dh:"fenDou",name:"奋斗",num:"031"},{dh:"zhouMa",name:"咒骂",num:"032"},{dh:"yiWen",name:"疑问",num:"033"},{dh:"xu",name:"嘘",num:"034"},{dh:"yun",name:"晕",num:"035"},{dh:"fengLe",name:"疯了",num:"036"},{dh:"shuai",name:"衰",num:"037"},{dh:"kuLou",name:"骷髅",num:"038"},{dh:"qiaoDa",name:"敲打",num:"039"},{dh:"zaiJian",name:"再见",num:"040"},{dh:"caHan",name:"擦汗",num:"041"},{dh:"kouBi",name:"抠鼻",num:"042"},{dh:"guZhang",name:"鼓掌",num:"043"},{dh:"qiuDaLe",name:"糗大了",num:"044"},{dh:"huaiXiao",name:"坏笑",num:"045"},{dh:"zuoHengHeng",name:"左哼哼",num:"046"},{dh:"youHengHeng",name:"右哼哼",num:"047"},{dh:"haQian",name:"哈欠",num:"048"},{dh:"bishi",name:"鄙视",num:"049"},{dh:"weiQu",name:"委屈",num:"050"},{dh:"kuaiKu",name:"快哭",num:"051"},{dh:"yinXian",name:"阴险",num:"052"},{dh:"qinQin",name:"亲亲",num:"053"},{dh:"xia",name:"吓",num:"054"},{dh:"keLian",name:"可怜",num:"055"},{dh:"caiDao",name:"菜刀",num:"056"},{dh:"xiGua",name:"西瓜",num:"057"},{dh:"piJiu",name:"啤酒",num:"058"},{dh:"lanQiu",name:"篮球",num:"059"},{dh:"pingPa",name:"乒乓",num:"060"},{dh:"kaFei",name:"咖啡",num:"061"},{dh:"fan",name:"饭",num:"062"},{dh:"zhuTou",name:"猪头",num:"063"},{dh:"meiGui",name:"玫瑰",num:"064"},{dh:"diaoXie",name:"凋谢",num:"065"},{dh:"zuiChun",name:"嘴唇",num:"066"},{dh:"aiXin",name:"爱心",num:"067"},{dh:"xinSui",name:"心碎",num:"068"},{dh:"danGao",name:"蛋糕",num:"069"},{dh:"shanDian",name:"闪电",num:"070"},{dh:"zhaDan",name:"炸弹",num:"071"},{dh:"dao",name:"刀",num:"072"},{dh:"zouqiu",name:"足球",num:"073"},{dh:"piaoChong",name:"瓢虫",num:"074"},{dh:"bianBian",name:"便便",num:"075"},{dh:"yueLiang",name:"月亮",num:"076"},{dh:"taiYan",name:"太阳",num:"077"},{dh:"liWu",name:"礼物",num:"078"},{dh:"baoBao",name:"抱抱",num:"079"},{dh:"qiang",name:"强",num:"080"},{dh:"ruo",name:"弱",num:"081"},{dh:"woshou",name:"握手",num:"082"},{dh:"shengLi",name:"胜利",num:"083"},{dh:"baoQuan",name:"抱拳",num:"084"},{dh:"gouYin",name:"勾引",num:"085"},{dh:"quanTou",name:"拳头",num:"086"},{dh:"chaJin",name:"差劲",num:"087"},{dh:"aiNi",name:"爱你",num:"088"},{dh:"NO",name:"NO",num:"089"},{dh:"OK",name:"OK",num:"090"},{dh:"aiQing",name:"爱情",num:"091"},{dh:"feiWen",name:"飞吻",num:"092"},{dh:"tiaoTiao",name:"跳跳",num:"093"},{dh:"faDou",name:"发抖",num:"094"},{dh:"ouHuo",name:"怄火",num:"095"},{dh:"zhuanQuan",name:"转圈",num:"096"},{dh:"keTou",name:"磕头",num:"097"},{dh:"huiTou",name:"回头",num:"098"},{dh:"tiaoSheng",name:"跳绳",num:"099"},{dh:"jiDong",name:"激动",num:"100"},{dh:"lunWu",name:"乱舞",num:"101"},{dh:"xianWen",name:"献吻",num:"102"},{dh:"youTaiJi",name:"左太极",num:"103"},{dh:"touXiang",name:"投降",num:"104"}];n.a=i},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACuUlEQVRYR72XjTEEQRCFnwyIABFwESACRIAInAgQASJABE4EiAARIAMZUN/WvK25MT+7V1e6asqVm+l+/fr3VjReNiStS9pNnj5L+pL0OUblysDLGD2VdCCJz5aX8GEn+h8AZpJuhoBpAViVdCXpOHiHYg7e5gRWAMmBpTtJZ5K+S47WAKDkVhJ3pkHZQMK6a4C+lvQj6bAEugQAg3h+H4wXPWgggkFAHAU9hGVOcgBsHOp4vAy5kHQewjGnMwVADJ8kXUri0TLFIPbicMQAoOtD0mOI3zKNWxdJuS9p04kZA4AaEocyWzTmLdA4SZkChFB3GY5gFO9PFsj2ltH0e+cYLHwaAN6nTSZ+yHcPgRli+Fawuh1yCE8pPXpGTtyspgaAQppLR0tG+M7drpagTjRU0CXTdh3nwpakCQBMfw0xuUFTQmr3zBT3auH0vU0AuPRabRl6Sc7WsMEhQlAKk1mgQ+5h1LS1AIxNttZ9AJwZAJTg4X8KDM0MgOYwKViHdsC1qE+fuyLWCnp7AK7LUgi6WFVGcIm1Vm71IWhd7Gt2ZHxavaVPwlYZosj9ewyGGvC5MkQp8eBQ76kY4JjxPNduMzqZBeTItuNOKbI00J9zYoVDZoWbVg0wiQ2zF+kwqrVZUAOytOfF+yObVI5NnMNZHOoqK858vmDz7Wd1hgpiB3IWToeNax2dYXFFeWkIeedgNesWnnQhIXHYiOj3JUEJlcNx8/IwY2jVdgmA8a7fOdLaR+Fr2OlLk3FMJcR3YQ6GaXj9nMg1HycRD0ikZYiN/0niUvczCCjj0aIrGuFijJM72QqqTUDCQUzpWHhA4gwFgmHoJowe+dnx3BrBKEIJByD+acbmnBM8pWvyF90A5yz00yw2QNailNCwSlk8IeMfrO+hV9Avmoy1GMh5ibH4cAcg8RmcuL/eI67B6V3F9AAAAABJRU5ErkJggg=="},,function(e,n,t){"use strict";var i=t(4),s=t.n(i),a=t(0),o=t(1),c=t(18),r=t(3),u=t(24);a.a.use(o.a);var m=(new Date,new o.a.Store({state:{user:{},friends:[{groupname:"全员",id:1,list:[]},{groupname:"好友",id:2,list:[]}],group:[],sessions:[],indexTab:1,currentSession:{id:"",name:"",img:""},currentSessionType:"message",filterKey:"",searchFriend:[],userSet:{voice:0,desktop:0}},mutations:{INIT_DATA:function(e,n){e.user.id=n.data.mine.id,e.user.name=n.data.mine.username,e.user.img=n.data.mine.avatar?n.data.mine.avatar:"/chat/images/niming.png",e.friends=n.data.friend,e.group=n.data.group;var t=localStorage.getItem("vue-chat-session"),i=localStorage.getItem("chat-set");t&&(e.sessions=JSON.parse(t)),i&&(e.userSet=JSON.parse(i))},SEND_MESSAGE:function(e,n){var i=e.sessions,s=e.currentSession,a=e.user,o=(e.friends,e.currentSessionType,{}),c=i.find(function(e){return parseInt(e.id)===parseInt(n.dialogueId)&&e.type===n.type});n.content=t.i(r.a)(n.content),o=n.senderId==a.id?{id:n.id,content:n.content,date:new Date,self:!0}:{id:n.id,name:n.name,img:n.img,content:n.content,date:new Date},c?(n.dialogueId!=s.id&&c.messageNum++,c.messages.length>20&&c.messages.shift(),c.messages.push(o)):(c={id:n.dialogueId,user:{name:n.sessionName,img:n.sessionImg},messageNum:0,type:n.type,messages:[]},n.dialogueId!=s.id&&c.messageNum++,c.messages.push(o),i.unshift(c))},SELECT_SESSION:function(e,n){var t=e.sessions.find(function(e){return parseInt(e.id)===parseInt(n.id)&&e.type==n.type});t&&0!=t.messageNum&&c.a.sendMessage({type:"mes_close",to_uid:n.id,session_no:n.id,message_type:n.type}),t&&0!=t.messageNum&&(t.messageNum=0),e.currentSession.id=n.id,e.currentSession.name=n.name,e.currentSession.img=n.img,e.currentSessionType=n.type},DELSESSION:function(e,n){e.sessions.splice(n,1)},SELECT_TAB:function(e,n){e.indexTab=n},SET_FILTER_KEY:function(e,n){e.filterKey=n},USER_SET:function(e,n,t){console.log(e.userSet)},CLEAR_SESSION:function(e){e.currentSession.id="",e.currentSession.name="",e.currentSession.img=""}},actions:{initData:function(e,n){var t=e.commit,i=e.dispatch;c.a.on("open",function(){c.a.sendMessage({type:"login",oms_id:n.data.mine.oms_id,uid:n.data.mine.id,header_img_url:n.data.mine.avatar,token:n.data.mine.token,client_name:n.data.mine.username,room_id:n.data.mine.oms_id})}),c.a.on("comeMessage",function(e){var n=e.type;i(n,e)}),c.a.connect(),t("INIT_DATA",n)},sendMessage:function(e,n){var i=(e.commit,e.state),s={};n.dialogueId=i.currentSession.id,n.senderId=i.user.id,n.name=i.currentSession.name,n.img=i.currentSession.img,n.type=i.currentSessionType,n.content=t.i(r.b)(n.content),s={type:"sayUid",to_uid:i.currentSession.id,groupId:0,accept_name:i.currentSession.name,message_type:i.currentSessionType,mes_types:"text",content:n.content},"message"!=i.currentSessionType&&(s.session_no=i.currentSession.id),c.a.sendMessage(s)},acceptMes:function(e,n){var t=e.commit,i=(e.state,void 0),s=void 0,a=void 0,o=void 0,c=void 0,r=void 0;return n&&n.forEach(function(e){"message"==e.message_type?(o=e.sender_name,s=e.sender_name,c=e.chat_header_img,r=e.chat_header_img,a=e.sender_id):(c=e.chat_header_img,r="/chat/images/ren.png",o=e.accept_name,s=e.sender_name,a=e.session_no),i={id:e.id,content:e.message_content,senderId:e.sender_id,dialogueId:a,name:s,sessionName:o,sessionImg:r,img:c,type:e.message_type},t("SEND_MESSAGE",i)}),!1},selectSession:function(e,n){(0,e.commit)("SELECT_SESSION",n)},delSession:function(e,n){(0,e.commit)("DELSESSION",n)},selectTab:function(e,n){return(0,e.commit)("SELECT_TAB",n)},search:function(e,n){return(0,e.commit)("SET_FILTER_KEY",n)},userSet:function(e,n,t){return(0,e.commit)("USER_SET",n,t)},clearSession:function(e){return(0,e.commit)("CLEAR_SESSION")}},modules:{events:u.a}}));m.watch(function(e){return e.sessions},function(e){localStorage.setItem("vue-chat-session",s()(e))},{deep:!0}),n.a=m},function(e,n,t){t(29),t(30);var i=t(2)(t(12),t(52),"data-v-22a805ff",null);e.exports=i.exports},,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),s=t(0),a=t(11),o=t(47),c=t.n(o),r=t(49),u=t.n(r),m=t(48),d=t.n(m),l=t(51),A=t.n(l),h=t(50),g=t.n(h);s.a.use(a.a),n.default={name:"app",components:{Card:c.a,menuList:u.a,List:d.a,Message:g.a,TextAre:A.a},computed:t.i(i.b)({complete:function(e){return e.events.complete},mesNum:function(e){var n=0;return e.sessions.forEach(function(e){n+=e.messageNum}),n}}),data:function(){return{chatMainShow:!1,iPhone:!1,mainShow:!1}},created:function(){var e=this;(function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!1,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=!0;break}return t})()&&(this.iPhone=!0,this.mainShow=!0),document.onkeydown=function(n){27==n.keyCode&&(e.chatMainShow=!e.chatMainShow)},this.$http.get("/omsIm/demo/json/getList.php").then(function(n){e.$store.dispatch("initData",n.data)}).catch(function(e){console.log(e)}),this.$http.get("/omsIm/demo/json/getList.php?class=mesNum").then(function(n){e.$store.dispatch("acceptMes",n.data)}).catch(function(e){console.log(e)})},methods:{transf:function(){}},mounted:function(){}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1);n.default={computed:t.i(i.b)({user:function(e){return e.user},filterKey:function(e){return e.filterKey}}),methods:{onKeyup:function(e){this.$store.dispatch("search",e.target.value)}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(0),s=t(1),a=t(20);t.i(a.a)(i.a),n.default={data:function(){return{mousedownShow:!1,mousedowInfo:{id:1,index:1}}},methods:{selectSession:function(e,n,t,i){this.$emit("mainShow");var s={id:e,type:n,name:t,img:i};this.$store.dispatch("selectSession",s)},mousedown:function(e,n,t){var i=this;3==t.which&&(t.sta,this.mousedownShow=!0,console.log(t),this.$nextTick(function(){i.$refs.recentContactsDel.style.top=t.pageY+2+"px",i.$refs.recentContactsDel.style.left=t.pageX+2+"px"}),this.mousedowInfo.id=e.id,this.mousedowInfo.index=n)},removeZjlxr:function(){this.$store.dispatch("delSession",this.mousedowInfo.index)},huadong:function(){console.log(8899)}},computed:t.i(s.b)({currentId:function(e){return e.currentSession.id},sessions:function(e){return e.sessions},searchFriend:function(e){if(""==e.filterKey)return[];var n=[];for(var t in e.friends)e.friends[t].list&&(n=n.concat(e.friends[t].list.filter(function(n){return n.username.includes(e.filterKey)})));return n},indexTab:function(e){return e.indexTab},friends:function(e){return e.friends},group:function(e){return e.group}}),created:function(){var e=this;document.addEventListener("click",function(n){e.mousedownShow&&(e.mousedownShow=!e.mousedownShow)})}},i.a.directive("oncontextmenu",{bind:function(e){e.oncontextmenu=function(){return!1}}})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(4),s=t.n(i),a=t(1);n.default={data:function(){return{selfInfo:!1,setShow:!1,sets:{voice:["开启声音","关闭声音"],desktop:["开启桌面通知","关闭桌面通知"]}}},computed:t.i(a.b)({user:function(e){return e.user},filterKey:function(e){return e.filterKey},indexTab:function(e){return e.indexTab},userSet:function(e){return e.userSet}}),methods:{selectTab:function(e){this.$store.dispatch("selectTab",e)},showInfo:function(e){this.selfInfo||(this.selfInfo=!this.selfInfo)},setUser:function(e){var n=this.userSet;n[e]=0==n[e]?1:0,this.$store.dispatch("userSet",e,n[e]),localStorage.setItem("chat-set",s()(n))}},created:function(){var e=this;document.addEventListener("click",function(n){e.selfInfo&&(e.selfInfo=!e.selfInfo),e.setShow&&(e.setShow=!e.setShow)})}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),s=t(0),a=t(3);s.a.component("messagesLog",function(e){t.e(0).then(function(){var n=[t(10)];e.apply(null,n)}.bind(this)).catch(t.oe)}),s.a.component("asyncModal",function(e){t.e(1).then(function(){var n=[t(62)];e.apply(null,n)}.bind(this)).catch(t.oe)}),n.default={data:function(){return{showMessageLog:!1,show:!1,imgfdBoxinfo:""}},computed:t.i(i.b)({user:function(e){return e.user},session:function(e){return e.sessions.find(function(n){return n.id===e.currentSession.id})},dialogName:function(e){return e.currentSession.name},dialogType:function(e){return e.currentSessionType}}),filters:{time:function(e){return"string"==typeof e&&(e=new Date(e)),e.getHours()+":"+e.getMinutes()}},methods:{content:function(e){return t.i(a.a)(e)},imgFd:function(e){if("IMG"==e.target.nodeName){var n='<img src="'+e.target.src+'">';this.imgfdBoxinfo=n,this.show=!0}},clearSession:function(){this.$emit("mainShow"),this.$store.dispatch("clearSession")}}},s.a.directive("chat-drop",{bind:function(e){s.a.nextTick(function(){var n=document.getElementById("chat-main");e.onmousedown=function(e){var e=e||window.event,t=n.offsetWidth/2,i=e.clientX-n.offsetLeft-t,s=e.clientY-n.offsetTop;document.onmousemove=function(e){var e=e||window.event;n.style.left=e.clientX-i+"px",n.style.top=e.clientY-s+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}})}}),s.a.directive("scroll-bottom",function(e){s.a.nextTick(function(){e.scrollTop=e.scrollHeight-e.clientHeight})})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),s=t(0),a=t(21),o=t(19),c=t(5);s.a.component("messagesLog",function(e){t.e(0).then(function(){var n=[t(10)];e.apply(null,n)}.bind(this)).catch(t.oe)}),n.default={data:function(){return{content:"",selShow:!1,currentSel:1,emShow:!1,emojis:c.a,showMessageLog:!1,iphone:!1}},computed:t.i(i.b)({start:function(e){return e.currentSession.id},user:function(e){return e.user}}),methods:{onKeydown:function(e){if(0==this.currentSel)e.ctrlKey&&13===e.keyCode&&this.content.length&&this.send();else{if(e.shiftKey||e.ctrlKey)return;13===e.keyCode&&this.content.length&&(e.preventDefault(),this.send())}},send:function(){var e={content:this.content};this.content="",this.$store.dispatch("sendMessage",e)},changeSend:function(e){this.currentSel=e,localStorage.setItem("currentSel",e)},emojiInsert:function(e){t.i(a.a)(this.$refs.textarea,"【"+e.name+"】"),this.content=this.$refs.textarea.value},fileUpload:function(e){var n="",t=this,i="";if(void 0===(n=void 0===e.target?e[0]:e.target.files[0]))return!1;i=/image\/\w+/.test(n.type)?"img":"file";var s=(Math.floor(n.size/1024),n.name),a=(new Date).getTime(),c=this.user.id,r=this.start;o.a.Qiniu_upload({key:"/file/"+c+"/"+r+"/"+a+"/"+s,tokenurl:"/chat/uptoken.php",f:n,QiniuUrl:"http://up.qiniu.com"},function(e){if(!e.error){var n="";n="file"==i?{content:"-file-["+e.fname+"|http://7xq4o9.com1.z0.glb.clouddn.com/"+e.key+"]"}:{content:"-img-["+e.fname+"|http://7xq4o9.com1.z0.glb.clouddn.com/"+e.key+"]"},t.$store.dispatch("sendMessage",{content:n.content})}})}},created:function(){var e=this;(function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!1,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=!0;break}return t})()&&(this.iPhone=!0);var n=localStorage.getItem("currentSel");document.addEventListener("click",function(n){e.emShow&&(e.emShow=!e.emShow),e.selShow&&(e.selShow=!e.selShow)}),null!=n&&(this.currentSel=parseInt(n))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),ws="",callbacks={},act={COME_MESSAGE:function COME_MESSAGE(e){var data=eval("("+e.data+")");callbacks.comeMessage&&callbacks.comeMessage(data)},SEND_MESSAGE:function(e){var n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e);ws.send(n)},OPEN:function(){callbacks.open&&callbacks.open()},TEXT:function(){console.log(callbacks.text),callbacks.text()}},websocket={on:function(e,n){callbacks[e]=n},sendMessage:function(e){act.SEND_MESSAGE(e)},connect:function(){ws=new WebSocket("ws://"+document.domain+":7272"),ws.onopen=act.OPEN,ws.onmessage=act.COME_MESSAGE,ws.onclose=function(){console.log("连接关闭，定时重连")},ws.onerror=function(){console.log("出现错误")}}};__webpack_exports__.a=websocket},function(e,n,t){"use strict";var i=function(){this.v=1};i.prototype.getQiniuToken=function(e,n){var t,i;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.onreadystatechange=function(){4==t.readyState&&n(200==t.status?t.responseText:t.responseText)},i=e,t.open("GET",i,!0),t.send()},i.prototype.Qiniu_upload=function(e,n){var e=e||{key:"",tokenurl:"",f:"",QiniuUrl:""};this.getQiniuToken(e.tokenurl,function(t){var i=new XMLHttpRequest;i.open("POST",e.QiniuUrl,!0);var s;s=new FormData,null!==e.key&&void 0!==e.key&&s.append("key",e.key),s.append("token",t),s.append("file",e.f);i.onreadystatechange=function(e){if(4==i.readyState&&200==i.status&&""!=i.responseText){var t=JSON.parse(i.responseText);return"function"==typeof n&&n(t),!1}if(200!=i.status&&i.responseText){var t=JSON.parse(i.responseText);return"function"==typeof n&&n(t),!1}},i.send(s)})};var s=new i;n.a=s},function(e,n,t){"use strict";n.a=function(e){e.directive("touch",{bind:function(e,n,t){function i(e,n){return 180*Math.atan2(n,e)/Math.PI}function s(e,n,t,s){var a=n-s,o=t-e,c=0;if(Math.abs(o)<2&&Math.abs(a)<2)return c;var r=i(o,a);return r>=-45&&r<45?c="swiperight":r>=45&&r<135?c="swipeup":r>=-135&&r<-45?c="swipedown":(r>=135&&r<=180||r>=-180&&r<-135)&&(c="swipeleft"),c}var a,o,c=n.arg,r=0,u="";e.addEventListener("touchstart",function(e){a=e.touches[0].pageX,o=e.touches[0].pageY,r=setTimeout(function(){r=0,"press"===c&&n.value()},500)},!1),e.addEventListener("touchmove",function(e){clearTimeout(r),r=0}),e.addEventListener("touchend",function(e){var t,i;switch(t=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY,u=s(a,o,t,i),clearTimeout(r),u){case 0:break;case"swipeup":"swipeup"===c&&n.value();break;case"swipedown":"swipedown"===c&&n.value();break;case"swipeleft":"swipeleft"===c&&n.value();break;case"swiperight":"swiperight"===c&&(console.log(n.value),n.value())}},!1)}})}},function(e,n,t){"use strict";var i=function(e,n){if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=n,sel.select();else if(e.selectionStart||"0"==e.selectionStart){var t=e.selectionStart,i=e.selectionEnd,s=e.scrollTop;e.value=e.value.substring(0,t)+n+e.value.substring(i,e.value.length),s>0&&(e.scrollTop=s),e.focus(),e.selectionStart=t+n.length,e.selectionEnd=t+n.length}else e.value+=n,e.focus()};n.a=i},function(e,n,t){"use strict";var i=function(e,n,t){var i=window.Notification||window.mozNotification||window.webkitNotification;if(i&&"granted"===i.permission){var s=new i(e,{icon:t,body:n});s.onclick=function(){},s.onerror=function(){},s.onshow=function(){setTimeout(s.close.bind(s),3e3)},s.onclose=function(){}}else{if(!i||"denied"===i.permission)return!1;i.requestPermission(function(t){if(i.permission!==t&&(i.permission=t),"granted"!==t)return!1;var s=new i(e,{icon:"http://www.omso2o.com/chat/images/header.jpg",body:n});s.onclick=function(){},s.onerror=function(){},s.onshow=function(){},s.onclose=function(){}})}};n.a=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(0),s=t(9),a=t.n(s),o=t(8);i.a.config.productionTip=!0,new i.a({el:"#chat-app",template:"<App/>",components:{App:a.a},store:o.a})},function(e,n,t){"use strict";var i=(t(3),t(22)),s=function(){var e=document.createElement("audio");e.src="/omsIm/source/layui/css/modules/layim/voice/default.wav",e.play()},a={complete:!1},o={SELF_LOGIN:function(e,n){e.complete=!0},LOGIN:function(e){console.log(e)},SAYUID:function(e,n){console.log(n)}},c={selfLogin:function(e,n){e.state;(0,e.commit)("SELF_LOGIN",n)},login:function(e){return!1},ping:function(e){},say_uid:function(e,n){var a=(e.state,e.commit),o=(e.rootState,void 0),c=void 0,r=void 0,u=void 0,m=void 0;"message"==n.mestype?(r=n.accept_name,o=n.accept_name,u=n.card_image,m=n.card_image,c=n.sender_id):(u=n.card_image,m="/chat/images/ren.png",r=n.group_name,o=n.accept_name,c=n.session_no);var d={id:n.id,content:n.message_content,senderId:n.sender_id,dialogueId:c,sessionName:r,name:o,sessionImg:m,img:u,type:n.mestype};s(),t.i(i.a)("聊天消息",n.message_content,m),a("SEND_MESSAGE",d)},mesClose:function(e){},resSayUid:function(e,n){var t=(e.state,e.commit),i=e.rootState,s=void 0,a=void 0,o=void 0,c=void 0;"message"==n.mestype?(a=i.currentSession.name,s=i.currentSession.img,o=i.currentSession.name,c=i.currentSession.img):"groupMessage"==n.mestype&&(a=n.group_name,s="/chat/images/ren.png",o=i.currentSession.name,c=i.currentSession.img);t("SEND_MESSAGE",{id:n.id,content:n.message_content,senderId:n.sender_id,dialogueId:i.currentSession.id,name:o,sessionName:a,sessionImg:s,img:c,type:n.mestype})}},r={state:a,actions:c,mutations:o};n.a=r},,,,,function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},,,function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADb0lEQVRYR8VXXVLTYBQ9N2UGpnmwPGiL0w51BcAKgEcNjmUF1hWAK6CswLIC6wooI9VHYAXWFVimHU31gTJjGRhNrnPz1y9pmlApQ546SXq/8517vnNPCA980QOvj6kAfP5RKFsW1olQDgG3eQCyz4zir/a0G0oFcHKRy11dLeyAuQLQatICzDwgoqaWwf7zJbNzGzCJAI57+V0w9ogo5xRjvgRwClBop0woE7ABYFlZtJHVr99uLg4GSUBiAciuh8OFQ6+oLHxkg+ovS+ZpUjGvRTUStogeCSMM2k763xgAh/Lh/IlH9zlgVabtrVPj90IThHUXsLU2qcYYgONevk2gFQZ/1fWbjTQKkxg57hUaBLx2tWFvxoEIAWh1CzUQ9maxuA/MBwFw2yj216KAAwBO//7yF1dwkym7jbLVd9yWLohoRaBvjKLZUJ8HAETxBHoH8IFR7O9Ou1DS+5++P6mwrR3GsaACcHo/y92roFrd/EBOhpbBM9UjAgCtXoHlD0bRDOlCWsPA8osl80wtmHTftqxcVHCtbuFUToXN2FSPZRgA48womWIozhXWxag1k+5/7BY2NMKJa1rYN0pmza/lCzyqgwgDYaVGCgbgJt0f6chxzSOj1K/cHoDXo2gLnGPEKNtATaUu7r5rQPMN15rtqtqG9BZ4PbpvEUbrqy2oAnjPwIetoim/Z3YFx5D5iIkGmQxq/kkIAHj0deSozJqFVq8go3lZhOk67WiToSOnmFE7q99s3mUOjFkx40ybQ9W28E1mw1apvyjvjA2jVjffBNErca27ggjmAPOlNkerQrvPhi/22HE8HM6fuq6IDmBt/884DvKEhBiyN/waviNOBCC0eIGkLqPUoUmzt188/dlMU6UbSHgHjKqXokJ5Qp5LCwCcG0XTyZWJkazVy9cBkoKOqzluBl6B5kUyCaMa5Zg5RyAxHSWs8kFWv6mpOgraq7hkMgAvH4BZ0k05LZTKzgBuahmqR0OpYsXnWf161Qd2OwAe9xJUCFQHh2M5Ew8AutD166O4kzPaeVgP6S3wGYgZLjEe780gSc2jixn7MqBc8GF7TgXgDB3wLsiuJZ0EV1y8C1cHajRXkISno/8g9cMkTflxz1u9x84HTFb/05Hh5PhKZDzfK4AoKJkFlqUN4r4P7oWBaVh7cAD/AEs9Hz/qVD98AAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABU0lEQVRYR+1X203EMBDcrQDogBKgg4wbATq4DoAKgA6oJAMdHBVwVHC5ChZtdIny8OUcKSJ82H+RdzaTcTTjVVl56crvlygBkoWZWYycqh4AbGN7UzivDyF8DnE9AiSfROQxQZVKRNAQIXkvIi8icpmAfQDw3tS1BEg6eJ/QoCnZArj1h7IsK1W9SMRWAK5iBAoRYWKTugxA/QEko8d1qleD8/2uAplAViArsLoC1yLyneoDZvYVQrhZzAeOjdwi7xJJtJZKcnO04hToMwC3/HqNwoikf9U5T98B2HXflohzG+4FWZSAmU36uqr+xAgk4EZJOkzDvziCNwB+ZP0jIDnrJxSRNg1zGGUFsgJZgaUUmHUt76bhnGu5mR1CCG3WDK04KdW8iaoW3cHEzF7PzQZH3CY6mAySzS8np9Yo0ZpCH82m8hjAx3D/fw6nKbeKpWp+AchGFzByLeL6AAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/gif;base64,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"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC80lEQVRYR7XXjZFNQRAF4LMZyAARsBFYESACRIAIEIEVASJABIgAESACMqC+V9Nb8+6b+7MeU3Vr39070336dJ+emZMcN2625V/+1szJJRZeS3InyYMk5Xi6/GOSd0neJ/m+xfYWABy/SHK3GfyRRMTTqIHyXG3zAHmyBmQNwHmSR83gmyTe1+gG4nGS+22dNYAMxxyAK0k+tIjQyeAmSjsvmONc2qTmXpJfUxQjAL1zyBk5ZgAvhZi7PQUxAmDijSQPk7w+xnO3VuG+akwAcTGmACrn/yLyKfZi4mVL6e57D0DOvjUJVcXPEWCuav90SYYoQ01cr5rqARx8HBhXH/JZBfVzlNcFUBUkX2xcMFAfSE2+RuNZk6Q5fqtoNaJm/C7Z1VqqeT5QjzXm7lgoBio/pzMN5m0SDQi4kiPQfkuX76NBfntF16T9ufWG8wIgCvQyOh3oYqjkaI6KFoHf2HjaDHrXuNALrHyPlIYxPs/q4++F4uOcEws4Ik9gPAwVAO+C4Nj/ztozAlD1dtIDkC8Lp0POUM2ZNmtO3xVL46MU6KIjRRXoHQBG5WQOAFpF72+1UpGimgytpww10jcuIOcaWQE43QJAZD29qFUDX1tDqS24lAHcQc+f0LMHwDc1MMeA74xWxTPunWOsVOGWY4paa2R7KSgAc/kq8Ayr6l5WnCtMVe87ULrp2jZ/UIQWaq2ktTTUgnTI7agxVfTStDQOZLjUiHpDDHNeh45SSJ2aNDL0Lx1aquh3G15RtaUVFxD02QP0g1JD7Z7VG5aiH7ZiC7ZsRlWQ5jozGGpn2hvmABzsuKPt+GKnWskjKuXyMke1xe249K7B/I8DSUlv9kBSAVPErf90JNM59xQydygFQo6pA+JjRilM5+R8r0suHcvlCxObLhgDhP2FRuTkuelY3tvqLybkg40tFxN1VCervZxPga61TPP7C4Z3UUjR6GqGYr2h5Ll6odkCoEADgkaP1IwGqqXMs0melwEwcnj09fwPq13RgZB99AkAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEjUlEQVRoQ+1aXU4bMRD2BOe59AQl0o5fCyconKDhBC0nKD1B6QmanqD0BKUnaDhB6au9UuAG8ByUqSbyUmPsXc9uUvWhlhAo+Ge+mc/z54Da4LDW7gPAG6XUvt/2kIiuAOCWiK4B4AIRv2/wSAWb2Kyu6zer1eoMAPYK9rtVSs201p8nkwn/PWgMArBYLPaWy+U3AGg0LhGGhT9GxLlkUTy3NwBPlx9Kqd2MADdKqWv/v1c5IYnoxBhz3hdELwAtwl8CwGxnZ2ce04PXKKVO/R15JO8QEGIAi8Vi9/7+fhFp/k4pNS2hg6fdBQC8jLR+VLJ+MIWsteeRFm+01oeTyaShSycbvBKYNq+byeyljDGTzsXRBJEFWHte+802d0R0aIy5kh7MIJbL5Ty0RB8qiQDUdT0joneBsB8R8UwqfDPfOXeolGJHsB4cM4wxB5L9RACstYvQ12utnw/15dZaDnQP90FrPZHQUQTAOUeBdr4j4lSirdRc59ypUupT8D/RZS4GEJtbKTWIPjkaSff9D2ADFHp0kbdmgdiFEtFXY8zboQCstW8B4MvW7wAf4JzjBOyZP+wWEZ8PBeCcu4gC2oEkrhTfARY0jsJ9Ak8IOBEYbxCxJCV/2EYEIBF4rsfj8UHfWOCc+8Y5VADqPSLOJFYVAfA04vw9TI/niHgkOdTvwxH8Q7DuTmu9J1WGGIBPpX+GAnMKMB6Pj0oPt9Z+AYBHDgAAjquq4vsgGmIA/i7EnoM/7iwVc6XnEI/WC4CnQJwChJpjmnGG2tS87Ou5oHlSvQ0Rng/sDSCwBF+6xrWKzC8NWqnNBwFgShARA8jVxa2AuIgZjUZnVVV9lSJv5vcCwO6UiPgiinx2TkjfMzr5KyWlc45TX+Z/anCFxvUuN7GuiGh9BwBgl4j2iWgPANjv5yg3Q8T3EmuILJByf/6wdTei1A3WdT0lIlbCk3YLEZ0bY05KQRQDSERNLgF/AcBpH9N7T8ZUnCU6FMXBsQhAohZm4TeSjfrinkFwT/VhAMDnqqpyVP0zr8tU3tycszyMoUlc6sxEacl3pzM6t1og1cTalOZTIBLZbmey2ArAORcnXJeIyFF1a8M5FyeLrbV3FkBG+6Jiow/KRLJ461styVZ8FkBc6m2TOjFQSeGUBRCbkoi2rv0GSMIKWeq2AQibWOJSrw99wjXOOW4Wv/CfZevvJIBYA6U+eajQ4fo49uQYkASwrS6cBGDCAyZbjjkAg/qVEkFzcxMNhORT1D8LIJEBJDsWpRTi993jTWi2dI9E8lhOIZ8phl04/miutT6R9O5LhQ3n+WYXtxrDiH+HiMmqr82NJot2ztcB4BwRL/sI2ML510Q0jdstfn624dWaCyUe9MLz2UJN94Gtc1NqHa9l9vFNt4J/JzXclQF01gM+pZB0HhhY7tEv2VrJWIXL09OuR/BOALy5T+yYUvzTt4VSyjh+c+bvUsxKOn1FAKIIOV2tVszVtuK8VNhm3roZMBqNLkrr6mahGEDkMfjVnmnReIzQc3DLpcllwu9NrD2a34fvzlWJpnMa+Q26FZNPMxXQBQAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACsElEQVRYR+1XwXHiQBCcoVZvcASHqjT7tRyBIQLbERxEcDiCsyOwMzgTwXERGEdg3pKr5Azse0swV02tKFloJXMff9gPVdQy0+rp7hFMX3z4i/vTEcCRgU4GsiwbrNfri81mM2LmIREtiehJRPC5PVmWDfM8vyCimJkHRLQyxszDMHztEnkrgCRJJsx8R0QoWj9LY8xVGIbvDsCCmU9rl+5F5LoNhBeAa/6LiP6q6iwIggWaJUkS93q9iar+UNVVEARjfF9tkqbpiIhuiOiciBYicuUD0QgAtBdFkaG5MSauN0CxNE1nRHSnqnNr7aSpQZIkD8z8XVWn1tqHpjuNAMrizHwVRdHChz5NU+jg3Bhz0gTSPchKVd+stWeHANgWFpFWjZRAiWhcFWVtHHiAC18tHwMAcCoiJ20Cenl5uVTV3x0AoIWfBwEoZ+ejtgSVpum2eAeAVjYbGag44FZE0GTvYL55nj8zM4sI8mHvwDHM/Ohy4/LTGsDFJElWztd783XN75gZ6r8Wkft6cXfnkZljVT2z1q4OBQD0oK+vqg+9Xm+pqki2kaoioIZVCyKMiqL45pogB2DTQZsFcbdL5SgEChsPGIiiaF7JBYyrX14GYGaeicifg4Moz/OSYvz2ye2AbR1VHTIzZgp20GQKGzrfYyyI7hj2c40R29Om3bDHQG128yAIbnxLxYkV8weQvbRzgDAKOOVdVcd1LXwAUGvujc8qndVF5EtO5wboSY0xZ9UH+gCg9HWXcJoUXxQFVN43xoRNsexAPGOUIjIua+wAOBXjAnZ9o2c/mYre7GgKrh2AytN7PdsGwDnhVVXVWhv6wqsoireqfasAsDRiX6p1NXcAttHcFjxug+72zAcAzPwaRRFU+1+nfBHBC4wv+ZxzJiKCjDn+LzgycGSA/gGLM6YwGnwomAAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA6ElEQVRYR+2XwQ3CMAxFXydBTAAjsAFsQJkAmADYACYANoBNYAPYgA2KXMVIqJe4iZocYinKxfb/+nESuyKxVYnxEQJT4Ox2Xz4PYAXIHmRC4AWMgLtnQiE8d3HjIHRoFWiAE7AxJDsCaxdvCOu6KoEDsDdkEt9dDgQMnDuuH2DbV4EZICvE5MibvgRCgDW2raOUBNo6yobABZA1pNVArQoMCfyHpQSuiRRYZlMD1pcwxpHldQuKAkWBokBRoChgbctj/AW/lkwHk5vnYBIDXIabBfDW0Uy6oUmMzIYcT+2IDDHxXZNPx18AfFVs1ylQrAAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC8klEQVRoQ+1Y3W0aQRCeEftuSuCk232NXYFNB6QC4wqcDoIrSFxBcAWhg+AKQl53kc7pgDxzaKKJ5qSNdRz7g0mQ7iQkxM0u88038+3MIpz5g2fuP/QA/jWDPQM9A5kR6FMoM4DZy3sG9oXQOXcDANS811o/Z4e7ZYOjMVBV1aiu61simiDiZZuzRLRCxIVS6qkoipdjAMoGUFXVcLvdfkLEqTj0k4iWiPhCRH+cRMQREY0QcQIAF2L3WSn1UBTFJgdIFgBr7SUifgOAIQBwisy01ssuhyS1ZgBwDQAbIhobY1apIJIBWGuniPgFAH5x9MuyXMQ4sV6vJ0Q0Z0aI6M4Yw9+jnyQAEvnv7DwR3aRGUPZhxhjEVco+0QA45+u6rji1u5wXu/tDBeuBIKVUEVsT0QCstXNEvEXE911pI7nO9fGgteac3/tIOn1FxMeyLD/E5FEUAJFKjv6z1pp1fu8TA4A3cc5xKl0LC8ESGwXAOceR/AgA40C1CWJAAHBAgu2byEUBsNbyQTTUWo8O0RzLgIBgWa2MMVeH9k8C4JwjInoyxjSH1tFSiDdq6ktrHRzYYMPYiMbaCwPBKRrNQONQ6KGTAsA7HA/W2CkB7E0z7pWMMUVjcBIAIbrODonkdrYHiLjydT9G5aIZkBwNLuJQFfHt3rSIRSW4a7zwaU9xdN8a5xzLKKdV6zzRti5YhVJVIhRgStHz3lEAvFZiqbUehzoXYneSVsI/bA41cyFONzYna+ZEXbid5maLCzprmpKANFMdKqVGb95Oe3/KA03WSOiPpCcbaFoOnQ0i3iWOlDySDkNP92wVer2BPxICAPfzPLyEDPXcknP7nDWSRqtQWwR4dNztdjMiupf3nFYLvlbhD//GVyretQrfYPBVy+NgMJjF5vxrH6JktEtZRGKncrH1rs2WiH7Ixdb8v7nY6jhV/xo5D6VWjOz6tkdjINWB3HU9gNwI5q7vGciNYO76noHcCOau7xnIjWDu+rNn4DdGy71AcSz+twAAAABJRU5ErkJggg=="},function(e,n,t){t(33);var i=t(2)(t(13),t(55),"data-v-64ddad67",null);e.exports=i.exports},function(e,n,t){t(34);var i=t(2)(t(14),t(56),"data-v-94df2816",null);e.exports=i.exports},function(e,n,t){t(32);var i=t(2)(t(15),t(54),"data-v-5c061ef4",null);e.exports=i.exports},function(e,n,t){t(35),t(36);var i=t(2)(t(16),t(57),"data-v-c6a57a00",null);e.exports=i.exports},function(e,n,t){t(31);var i=t(2)(t(17),t(53),"data-v-29892104",null);e.exports=i.exports},function(e,n,t){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{attrs:{id:"chat-app"}},[e.chatMainShow?e._e():i("div",{staticClass:"chat-min",attrs:{title:"按[esc]键最大化"},on:{click:function(n){e.chatMainShow=!e.chatMainShow}}},[e.mesNum>0?i("i",{staticClass:"mesNum"},[e._v("\n            "+e._s(e.mesNum>99?"99+":e.mesNum)+"\n        ")]):e._e(),e._v(" "),e._m(0)]),e._v(" "),i("transition",{attrs:{name:"show"}},[e.chatMainShow?i("div",{ref:"chatDrop",staticClass:"chat-main",attrs:{id:"chat-main"}},[e.complete?e._e():i("div",{staticClass:"mask"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t(41),alt:""}})])]),e._v(" "),i("div",{staticClass:"term"},[i("menuList")],1),e._v(" "),i("div",{staticClass:"sidebar"},[i("card"),e._v(" "),i("list",{on:{mainShow:function(n){e.mainShow=!1}}})],1),e._v(" "),e.mainShow?e._e():i("div",{staticClass:"main"},[e.iPhone?e._e():i("div",{staticClass:"windowList"},[i("ul",[i("li",{attrs:{title:"按[esc]键最小化 "},on:{click:function(n){n.stopPropagation(),e.chatMainShow=!e.chatMainShow}}},[e._v("X")])])]),e._v(" "),i("message",{on:{mainShow:function(n){e.mainShow=!0}}}),e._v(" "),i("TextAre")],1)]):e._e()])],1)},staticRenderFns:[function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("i",[i("img",{attrs:{src:t(39),alt:""}})])}]}},function(e,n,t){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return e.start?i("div",{staticClass:"text"},[e.showMessageLog?i("messagesLog",{attrs:{show:e.showMessageLog},on:{close:function(n){e.showMessageLog=!1}}}):e._e(),e._v(" "),i("div",{staticClass:"chat-tool"},[e.emShow?i("div",{staticClass:"emoticon"},[i("ul",{staticClass:"emoticon-list"},e._l(e.emojis,function(n,t){return i("li",{on:{click:function(t){t.stopPropagation(),e.emojiInsert(n)}}},[i("img",{attrs:{src:"/chatStatic/emoji/"+n.num+"@2x.png",title:n.name,alt:""}})])}))]):e._e(),e._v(" "),e.iPhone?e._e():i("ul",[i("li",{on:{click:function(n){n.stopPropagation(),e.emShow=!0}}},[i("img",{attrs:{src:t(6),alt:""}})]),e._v(" "),i("li",[e._m(0),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"chat-file"},on:{change:function(n){e.fileUpload(n)}}})]),e._v(" "),i("li",{staticStyle:{float:"right","margin-right":"20px"},attrs:{title:"聊天记录"},on:{click:function(n){e.showMessageLog=!0}}},[i("img",{attrs:{src:t(42),alt:"聊天记录"}})])])]),e._v(" "),e.iPhone?i("div",{staticClass:"tool-emoji",on:{click:function(n){n.stopPropagation(),e.emShow=!0}}},[i("img",{attrs:{src:t(6),alt:""}})]):e._e(),e._v(" "),i("div",{staticClass:"textarea-box"},[e.iPhone?e._e():i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"textarea",attrs:{placeholder:""},domProps:{value:e.content},on:{keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13))return null;e.onKeydown(n)},input:function(n){n.target.composing||(e.content=n.target.value)}}}),e._v(" "),e.iPhone?i("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"textarea",attrs:{placeholder:""},domProps:{value:e.content},on:{keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13))return null;e.onKeydown(n)},input:function(n){n.target.composing||(e.content=n.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"send-act"},[i("div",{staticClass:"chat-send"},[!e.content&&e.iPhone?i("label",{staticClass:"mul-function",attrs:{for:"chat-file"}}):e._e(),e._v(" "),e.iPhone?i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"chat-file"},on:{change:function(n){e.fileUpload(n)}}}):e._e(),e._v(" "),e.content||!e.iPhone?i("span",{staticClass:"send-btn",on:{click:function(n){e.send()}}},[e._v("发送")]):e._e(),e._v(" "),e.iPhone?e._e():i("div",{staticClass:"send-select-box",on:{click:function(n){n.stopPropagation(),e.selShow=!e.selShow}}},[i("span",{staticClass:"send-select"})]),e._v(" "),e.selShow?i("ul",{ref:"ssl",staticClass:"send-select-list"},[i("li",{class:[1==e.currentSel?"active":""],on:{click:function(n){e.changeSend(1)}}},[e._v("按Enter 键发送")]),e._v(" "),i("li",{class:[1==e.currentSel?"":"active"],on:{click:function(n){e.changeSend(0)}}},[e._v("按Ctrl + Enter 键发送")])]):e._e()])])],1):e._e()},staticRenderFns:[function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("label",{attrs:{for:"chat-file"}},[i("img",{attrs:{src:t(45),alt:""}})])}]}},function(e,n,t){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"menu"},[i("ul",[i("li",{staticClass:"header-img",staticStyle:{position:"relative"},on:{click:function(n){n.stopPropagation(),e.showInfo()}}},[i("img",{attrs:{src:e.user.img,width:"40px",height:"40px",alt:""}}),e._v(" "),e.selfInfo?i("div",{ref:"si",staticClass:"selfInfo"},[i("div",[i("span",[e._v(e._s(e.user.name))])]),e._v(" "),i("div")]):e._e()]),e._v(" "),i("li",{class:{actionColor:1==e.indexTab}},[i("img",{attrs:{src:t(46),alt:"",width:"40px",height:"40px"},on:{click:function(n){e.selectTab(1)}}})]),e._v(" "),i("li",{class:{actionColor:2==e.indexTab}},[i("img",{attrs:{src:t(43),alt:"",width:"30px",height:"30px"},on:{click:function(n){e.selectTab(2)}}})]),e._v(" "),i("li",{class:{actionColor:3==e.indexTab}},[i("img",{attrs:{src:t(44),alt:"",width:"30px",height:"30px"},on:{click:function(n){e.selectTab(3)}}})])]),e._v(" "),i("div",{staticClass:"chat-set",attrs:{title:"设置"}},[i("i",{on:{click:function(n){n.stopPropagation(),e.setShow=!e.setShow}}},[i("img",{attrs:{src:t(40),alt:""}})]),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.setShow?i("ul",{staticClass:"chat-set-list"},[i("li",[i("a",{attrs:{href:"/chat/new_groupChat.php"}},[e._v("新建群聊")])]),e._v(" "),e._l(e.sets,function(n,t){return i("li",{on:{click:function(n){n.stopPropagation(),e.setUser(t)}}},[e._v(e._s(n[e.userSet[t]]))])})],2):e._e()])],1)])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"card"},[t("input",{staticClass:"search",attrs:{type:"text",placeholder:"搜索"},on:{input:e.onKeyup}})])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"list"},[e.mousedownShow?t("div",{ref:"recentContactsDel",staticClass:"rcDel"},[t("ul",[t("li",{on:{click:function(n){e.removeZjlxr()}}},[e._v("移除该会话")])])]):e._e(),e._v(" "),0!=e.searchFriend.length?t("div",{staticClass:"search"},[t("ul",e._l(e.searchFriend,function(n){return t("li",{class:{active:n.id===e.currentId},on:{click:function(t){e.selectSession(n.id,"message",n.username,n.avatar)}}},[t("img",{staticClass:"avatar",attrs:{width:"30",height:"30",alt:n.username,src:""+n.avatar}}),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(n.username))])])}))]):e._e(),e._v(" "),1==e.indexTab?t("div",{attrs:{id:"zjlxr-box"}},[t("ul",{directives:[{name:"oncontextmenu",rawName:"v-oncontextmenu",value:e.sessions,expression:"sessions"}],attrs:{id:"zjlxr"}},[e.sessions.length<=0?t("li",{staticStyle:{"text-align":"center"}},[e._v("还没有最近联系人！")]):e._e(),e._v(" "),e._l(e.sessions,function(n,i){return t("li",{directives:[{name:"touch",rawName:"v-touch:swiperight.stop",value:e.huadong,expression:"huadong",arg:"swiperight",modifiers:{stop:!0}}],class:{active:n.id===e.currentId},on:{click:function(t){e.selectSession(n.id,n.type,n.user.name,n.user.img)},mousedown:function(t){if(!("button"in t)&&3!==t.keyCode)return null;e.mousedown(n,i,t)}}},[t("img",{staticClass:"avatar",attrs:{width:"30",height:"30",alt:n.user.name,src:n.user.img}}),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(n.user.name))]),e._v(" "),n.messageNum?t("span",{staticClass:"message-num"},[e._v(e._s(n.messageNum))]):e._e()])})],2)]):e._e(),e._v(" "),2==e.indexTab?t("div",{staticClass:"friend-list-box"},[t("ul",{staticClass:"friend-list"},e._l(e.friends,function(n){return t("li",{},[t("p",[e._v(e._s(n.groupname))]),e._v(" "),t("ul",e._l(n.list,function(n){return t("li",{class:{active:n.id===e.currentId},on:{click:function(t){e.selectSession(n.id,"message",n.username,""+n.avatar)}}},[t("img",{attrs:{src:""+n.avatar,alt:"",width:"30",height:"30"}}),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(n.username))])])}))])}))]):e._e(),e._v(" "),3==e.indexTab?t("div",{staticClass:"group-list-box"},[t("ul",{staticClass:"group-list"},e._l(e.group,function(n){return t("li",{on:{click:function(t){e.selectSession(n.id,"groupMessage",n.groupname,""+n.avatar)}}},[t("img",{staticClass:"avatar",attrs:{src:""+n.avatar,width:"30",height:"30"}}),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(n.groupname))])])}))]):e._e()])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"message"},[e.show?t("asyncModal",{on:{close:function(n){e.show=!1}}},[t("div",{domProps:{innerHTML:e._s(e.imgfdBoxinfo)},slot:"body"})]):e._e(),e._v(" "),e.showMessageLog?t("messagesLog",{attrs:{show:e.showMessageLog},on:{close:function(n){e.showMessageLog=!1}}}):e._e(),e._v(" "),t("div",{directives:[{name:"chat-drop",rawName:"v-chat-drop"}],ref:"chatDrop",staticClass:"dialog-title"},[t("i",{staticClass:"backSession",on:{click:function(n){e.clearSession()}}}),e._v(" "),t("span",{staticClass:"text-left dialogue-title-name"},[e._v(e._s(e.dialogName))])]),e._v(" "),e.session?t("ul",{directives:[{name:"scroll-bottom",rawName:"v-scroll-bottom",value:e.session.messages,expression:"session.messages"}]},[e.session.messages.length>20?t("li",{staticClass:"catMul",on:{click:function(n){e.showMessageLog=!0}}},[e._v("查看更多")]):e._e(),e._v(" "),e._l(e.session.messages,function(n){return t("li",[t("p",{staticClass:"time"},[t("span",[e._v(e._s(e._f("time")(n.date)))])]),e._v(" "),t("div",{staticClass:"main",class:{self:n.self}},[t("img",{staticClass:"avatar",attrs:{width:"30",height:"30",src:n.self?e.user.img:n.img}}),e._v(" "),"groupMessage"!=e.dialogType||n.self?e._e():t("div",{staticClass:"groupName"},[e._v(e._s(n.name))]),e._v(" "),t("div",{staticClass:"text",domProps:{innerHTML:e._s(e.content(n.content))},on:{click:function(n){e.imgFd(n)}}})])])})],2):e._e()],1)},staticRenderFns:[]}},,function(e,n){}],[23]);
//# sourceMappingURL=app.f249e9d45d6a5086c4f8.js.map